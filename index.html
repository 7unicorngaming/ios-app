<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, viewport-fit=cover"
        />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>USBett - Legal US Online Casinos & Sports Betting</title>
        <meta
            name="description"
            content="Your guide to legal US online casinos, poker, and sports betting"
        />
        <meta name="theme-color" content="#1e3a8a" />
        <link rel="icon" type="image/png" href="/favicon.png" />
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            html,
            body {
                width: 100%;
                height: 100%;
                overflow: hidden;
                font-family:
                    -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
                    Oxygen, Ubuntu, Cantarell, sans-serif;
                background-color: #1e3a8a;
            }

            #app {
                width: 100%;
                height: 100%;
                display: flex;
                flex-direction: column;
                position: relative;
            }

            #webview-frame {
                width: 100%;
                height: 100%;
                border: none;
                flex: 1;
                background-color: #ffffff;
            }

            /* Loading screen */
            #loading {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: linear-gradient(135deg, #1e3a8a 0%, #2563eb 100%);
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                z-index: 9999;
                transition: opacity 0.3s ease;
            }

            #loading.hidden {
                opacity: 0;
                pointer-events: none;
            }

            .logo {
                width: 240px;
                height: auto;
                margin-bottom: 30px;
                filter: drop-shadow(0 10px 40px rgba(0, 0, 0, 0.3));
            }

            .logo img {
                width: 100%;
                height: auto;
            }

            .spinner {
                width: 50px;
                height: 50px;
                border: 4px solid rgba(255, 255, 255, 0.1);
                border-top-color: #ffffff;
                border-radius: 50%;
                animation: spin 1s linear infinite;
            }

            @keyframes spin {
                to {
                    transform: rotate(360deg);
                }
            }

            .loading-text {
                margin-top: 20px;
                color: #ffffff;
                font-size: 16px;
                font-weight: 500;
            }

            /* Error message */
            #error {
                display: none;
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: linear-gradient(135deg, #1e3a8a 0%, #2563eb 100%);
                color: #ffffff;
                padding: 40px;
                text-align: center;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                z-index: 9998;
            }

            #error.show {
                display: flex;
            }

            #error h2 {
                margin-bottom: 20px;
                font-size: 24px;
            }

            #error p {
                margin-bottom: 30px;
                color: #999;
                line-height: 1.6;
            }

            #retry-btn {
                padding: 12px 30px;
                background: #ffffff;
                color: #1a1a1a;
                border: none;
                border-radius: 8px;
                font-size: 16px;
                font-weight: 600;
                cursor: pointer;
                transition: transform 0.2s;
            }

            #retry-btn:active {
                transform: scale(0.95);
            }

            /* Safe area insets for notched devices */
            @supports (padding: max(0px)) {
                body {
                    padding-top: env(safe-area-inset-top);
                    padding-bottom: env(safe-area-inset-bottom);
                }
            }
        </style>
    </head>
    <body>
        <div id="app">
            <!-- Loading Screen -->
            <div id="loading">
                <div class="logo">
                    <img src="/logo.png" alt="USBett Logo" />
                </div>
                <div class="spinner"></div>
                <div class="loading-text">Loading USBett...</div>
            </div>

            <!-- Error Screen -->
            <div id="error">
                <div class="logo">
                    <img src="/logo.png" alt="USBett Logo" />
                </div>
                <h2>Connection Error</h2>
                <p>
                    Unable to load USBett. Please check your internet connection
                    and try again.
                </p>
                <button id="retry-btn">Retry</button>
            </div>

            <!-- WebView Frame -->
            <iframe
                id="webview-frame"
                src="https://usbett.com"
                allow="geolocation; camera; microphone"
                sandbox="allow-same-origin allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-downloads"
            ></iframe>
        </div>

        <script type="module" src="/src/main.js"></script>
    </body>
</html>
